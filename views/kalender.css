/* views/kalender.css */
:root{
  --time-gutter: 80px;   /* linke Uhrzeiten-Spalte */
  --hour-h: 52px;        /* Slot-Höhe */
  --col-w: 160px;        /* Breite je Tages-Spalte */
  --grid-line: #E5E7EB;
  --head-bg: #F8FAFC;
  --head-fg: #111827;
  --hour-fg: #6B7280;
  --own-bg: #CDE8FF;
  --booked-bg: #E5E7EB;
  --free-bg: #FFFFFF;
  --today-tint: #F0F9FF;
}

/* Toolbar */
.toolbar{
  display:flex; justify-content:space-between; align-items:center;
  gap:12px; padding:10px 12px; background:#fff; border-bottom:1px solid var(--grid-line);
}
.toolbar .left, .toolbar .right{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; }
.toolbar .muted{ color:#6B7280; }
.pill{ background:#eef2ff; color:#374151; padding:4px 10px; border-radius:999px; font-size:.9rem; }

/* Kalender-Container (Header, All-Day, Raster) */
.calendar{
  display:grid;
  grid-template-rows: auto 28px 1fr;
  min-height: calc(100vh - 140px);          /* genug Höhe im App-Layout */
  background:#fff;
  overflow:auto;
}

/* Kopfzeile & Ganztägig: identische Spalten wie Raster */
.header,
.allday{
  display:grid;
  grid-template-columns: var(--time-gutter) repeat(7, var(--col-w));
  background: var(--head-bg);
  color: var(--head-fg);
  align-items:center;
  border-bottom:1px solid var(--grid-line);
  position: sticky;
  top: 0; z-index: 2;
}
.allday .time{ padding:4px 8px; color: var(--hour-fg); }

/* Header-Zellen */
.cell{
  padding:6px 8px; text-align:left; border-right:1px solid var(--grid-line);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.cell.time{ background: var(--head-bg); font-weight:600; border-right:1px solid var(--grid-line); }

/* Hauptgrid: Zeitgasse + Tagesbereich */
.grid{
  display:grid;
  grid-template-columns: var(--time-gutter) 1fr;
  height: 100%;
  overflow:auto;
}

/* Stunden links */
.hours{
  display:grid;
  grid-auto-rows: var(--hour-h);
  background:#fff; color: var(--hour-fg);
  border-right:1px solid var(--grid-line);
}
.hour{
  display:flex; align-items:center; justify-content:flex-end;
  padding-right:8px; border-bottom:1px solid var(--grid-line); font-size:.95rem;
}

/* Tagesbereich (7 Spalten, horizontal scrollbar bei Bedarf) */
.days{
  display:grid;
  grid-template-columns: repeat(7, var(--col-w));
  grid-auto-rows: 1fr;
  overflow:auto;
}

/* Tages-Spalte = Grid über die Stunden */
.col{
  display:grid;
  grid-auto-rows: var(--hour-h);
  border-right:1px solid var(--grid-line);
  min-width: var(--col-w);
  background:#fff;
}
.col.today{ background: var(--today-tint); }

/* Slots */
.slot{
  border-bottom:1px solid var(--grid-line);
  padding:6px 8px; user-select:none; cursor:pointer;
}
.slot.free{   background: var(--free-bg); }
.slot.booked{ background: var(--booked-bg); color:#374151; }
.slot.own{    background: var(--own-bg);    color:#0b5394; font-weight:600; }

/* Dialog */
dialog{
  border:1px solid var(--grid-line); border-radius:12px; padding:0; max-width:480px; width:90%;
}
dialog form{ padding:12px; }
#dlgTitle{ margin:0 0 8px; font-size:1.1rem; }
.list{ display:flex; flex-direction:column; gap:8px; max-height:50vh; overflow:auto; padding:4px 0; }
.item{ display:flex; align-items:center; justify-content:space-between; gap:10px; padding:8px 10px; border:1px solid var(--grid-line); border-radius:10px; }
.dlg-actions{ display:flex; justify-content:flex-end; gap:8px; margin-top:10px; }

/* Kleinere Screens: Spalten schmaler */
@media (max-width: 1100px){ :root{ --col-w: 130px; } }
@media (max-width: 900px){  :root{ --col-w: 120px; } }

/* --- Fix für Buttons in Sicherheit / Einstellungen --- */
.pf-side-card .pf-row-btn {
  background: #fff;
  color: #111827;              /* gut lesbarer Text (Dark Ink) */
  font-weight: 600;
  border: 1px solid #e5e7eb;
  transition: background .2s, color .2s;
}

.pf-side-card .pf-row-btn:hover {
  background: #f1f5f9;         /* leichtes Hover-Highlight */
}

.pf-side-card .pf-row-btn:disabled {
  color: #9ca3af;              /* grau, wenn deaktiviert */
  background: #fafafa;
  cursor: not-allowed;
}
