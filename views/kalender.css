:root{
  --grid:#E5E7EB; --head:#F8FAFC; --head-fg:#111827; --hour:#6B7280;
  --own:#CDE8FF; --booked:#E5E7EB; --free:#fff; --today:#F0F9FF;
  --gutter:70px; --header:44px; --allday:28px; --row:50px; --colmin:140px;
}
*{box-sizing:border-box}
html,body{font:14px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:#111}

.toolbar{display:flex;justify-content:space-between;gap:.5rem;align-items:center;background:var(--head);border-bottom:1px solid var(--grid);padding:.6rem .8rem}
.left,.right{display:flex;gap:.5rem;align-items:center}
button{border:1px solid #D1D5DB;background:#fff;padding:.4rem .6rem;border-radius:.5rem;cursor:pointer}
button:hover{background:#F3F4F6}
.pill{padding:.15rem .6rem;border:1px solid #D1D5DB;border-radius:999px;background:#fff}
.muted{color:#6B7280}

/* ===== Kalenderraster – alles strikt über IDs, damit nichts kollidiert ===== */
#kal{
  height: auto !important; /* Entfernt die starre Viewport-Höhe */
  max-height: calc(var(--header) + var(--allday) + (10 * var(--row))); /* 10 Stunden × 50px */
  overflow: hidden; /* Kein Scrollen */
  display: grid;
  grid-template-rows: var(--header) var(--allday) 1fr;
  background: #fff;
}
#header{display:grid;grid-template-columns:var(--gutter) repeat(7, minmax(var(--colmin),1fr));align-items:center;background:var(--head);border-bottom:1px solid var(--grid)}
#header .cell{padding-left:.75rem;font-weight:600;color:var(--head-fg)}
#header .time{padding-left:.5rem;font-weight:500;color:var(--hour)}

#allday{display:grid;grid-template-columns:var(--gutter) 1fr;border-bottom:1px solid var(--grid);background:#fff}
#allday .time{display:flex;align-items:center;padding-left:.5rem;color:var(--hour)}

#grid{display:grid;grid-template-columns:var(--gutter) 1fr;height:100%}
#hours{border-right:1px solid var(--grid)}
.hour{height:var(--row);display:flex;align-items:center;justify-content:flex-end;padding-right:.5rem;color:var(--hour);border-bottom:1px solid var(--grid)}

#days{
  display: grid;
  grid-template-columns: repeat(7, minmax(var(--colmin), 1fr));
  overflow-y: hidden !important; /* Vertikales Scrollen verbieten */
  overflow-x: auto; /* Horizontales Scrollen bei kleinen Bildschirmen erlauben */
  height: auto; /* Höhe automatisch an Inhalt anpassen */
}
.col{position:relative;border-right:1px solid var(--grid)}
.col:last-child{border-right:none}
.slot{height:var(--row);border-bottom:1px solid var(--grid);display:flex;align-items:center;padding-left:.5rem;user-select:none}
.slot.free{background:var(--free)}
.slot.booked{background:var(--booked)}
.slot.own{background:var(--own)}
.col.today .slot{background:var(--today)}
.slot:hover{outline:2px solid #BFDBFE}

/* Dialog & Listen */
dialog{border:none;border-radius:12px;box-shadow:0 12px 26px rgba(0,0,0,.18);padding:0}
dialog form{padding:14px}
.list{max-height:50vh;overflow:auto;border:1px solid var(--grid);border-radius:10px}
.list .item{display:flex;justify-content:space-between;gap:.5rem;padding:.5rem .7rem;border-bottom:1px solid #F3F4F6}
.list .item:last-child{border-bottom:none}
.dlg-actions{display:flex;justify-content:flex-end;gap:.5rem;margin-top:.6rem}

.rp-title {
  font-size: 1.6rem;
  font-weight: 600;
  color: #0f172a;
  display: flex;
  align-items: center;
  gap: .5rem;
  margin: 0 0 1rem 0;
  border-bottom: 2px solid #2563EB;
  padding-bottom: .25rem;
}


/* Konteinerhöhen im App-Layout erzwingen */
#content, #kal { min-height: calc(100vh - 140px) !important; display:block !important; }

/* temporär */
.col:last-child .slot:last-child,
.col:nth-child(7) .slot:last-child {
  border-bottom: none;
}

/* PDF Import Button */
#pdfImportBtn {
  background: #10B981;
  color: white;
  border-color: #059669;
}
#pdfImportBtn:hover {
  background: #059669;
}

/* PDF Import Modal */
#pdfImportModal {
  border: none;
  border-radius: 12px;
  box-shadow: 0 12px 26px rgba(0,0,0,.18);
  padding: 0;
  min-width: 600px;
  max-width: 90vw;
}
#pdfImportModal form {
  padding: 20px;
}
#pdfPreview {
  max-height: 50vh;
  overflow: auto;
  border: 1px solid var(--grid);
  border-radius: 10px;
  padding: 15px;
  margin: 15px 0;
  background: #F9FAFB;
}
.pdf-event-item {
  padding: 8px;
  margin: 5px 0;
  background: white;
  border-left: 4px solid #10B981;
  border-radius: 4px;
}
.pdf-error {
  color: #DC2626;
  font-weight: bold;
  padding: 10px;
  background: #FEE2E2;
  border-radius: 8px;
}